<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>Weather Dashboard</title>
   <script src="https://js.radar.io/v3/radar.min.js"></script>

 <link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.36.1/maps/maps.css">
 <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.36.1/maps/maps-web.min.js"></script>
 <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.36.1/services/services-web.min.js"></script>
   <link rel="shortcut icon" type="image/jpg" href="weather.ico" />
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
   <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />
   <link rel="stylesheet" href="style.css">

   <script src="weather.js"></script>
   <script src="map/currentWeatherData.js"></script>

   <style>
      body, html { margin: 0; padding: 0; }
      #left, #right {  height: 100vh }
      #left { float: left; width: 100%; overflow-y: auto; }
      #right {  }
      #map { width: 100%; height: 50%; }
      #controls, #summary { padding: 5px; }
      input.text { margin-bottom: 5px; }
      div.clear { clear: both; }
      div.popup>img { border: 1px solid gray; vertical-align: middle; }
      div.popup>h3 { display: inline; vertical-align: middle; margin-left: 5px; }
    </style>
</head>

<body>
   <div class="container-12 " id="page-container">
      <header>
         <div class=" text-center bg-dark text-light">
            <h1 class="display-4"> <i class="fa fa-umbrella"></i>Weather Dashboard</h1>
            </h1>
            <p class="p-2"></p>
         </div>
      </header>
      <main>
         <div>
            <div id="country">
               Loading...
            </div>
         </div>
   </div>
   <div class="container">
      <div class="row">
         <div class=" col-sm-6   col-lg-3 " id="search-div">
            <div class="form-group  p-1">
               <label for="citySearchInput"><strong>Search for a city:</strong></label>
               <div class="input-group">
                  <input class="form-control" type="input" autocomplete="address-level2, address-level1"
                     name="citySearchText" id="citySearchInput">
                  <div class="form-group-append">
                     <button type="button" id="citySearchButton" class="btn-primary h-100"><i
                           class="fas fa-search"></i></button>
                  </div>
               </div>
               <div class="form-group mt-2" id="cityHistoryContainer">
               </div>
            </div>
         </div>
         <div class="col p-3  text-white" >
            <div id = "citypresent">
            </div>
            <div class="row" id="forecastExtendedContainer">
            </div>
         </div>
      </div>
      <row>
         <div class="col p-3" id="forecast">
            <div id="forecastCurrentContainer">
            </div>
         </div>
      </row>

      <row> 
         <div class="col">
            <div id="">
               <div id="controls">
                 Location:<br />
                 <input class="text" id="location" type="text" />
                 <br /><br />
                 Weather Layer:<br />
                 <select onchange="updateLayer(this)">
                   <option value="">None</option>
                   <option value="clouds_new">Clouds</option>
                   <option value="precipitation_new">Precipitation</option>
                   <option value="pressure_new">Pressure</option>
                   <option value="wind_new">Wind</option>
                   <option value="temp_new">Temperature</option>
                 </select>
                 <br /><br />
                 Units:<br />
                 <input type="radio" name="units" value="metric" onchange="updateUnits(this)">℃</input>
                 <input type="radio" name="units" value="imperial" checked onchange="updateUnits(this)">℉</input>
                 <br /><br />
                 <input type="button" value="Search" onclick="findLocation()" />
               </div>
             </div>
            <div id="right">
               <div id="map" class="map"></div>
             </div>
      </row>
      <div class="footer">
         <i class="fa fa-bolt fa-2x" aria-hidden="true"></i>
         </div>
   </main>
   </div>
   <script type="text/javascript">
      Radar.initialize("prj_live_sk_c3d04800106b28181cabc997e2de4bdb142fe89a");

      Radar.ipGeocode(function (err, result) {
         if (err) {
            console.error(err);

            return;
         }

         if (result && result.address) {
            console.log(result.address);

            document.getElementById("country").innerHTML = "<h3>" + "Your current city is " +
               result.address.city + ", " + result.address.state + " " + result.address.countryCode;
         }
      });
   </script>
       <script src="map/weather.js"></script>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
</body>

</html>